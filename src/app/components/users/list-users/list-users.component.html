@if(usersData){
  <div class="container mx-auto p-6 bg-gray-50 rounded-xl shadow-sm">
    <div class="overflow-x-auto bg-white rounded-lg shadow-md">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-4 text-sm font-semibold text-gray-600 tracking-wider text-left">User</th>
            <th class="px-6 py-4 text-sm font-semibold text-gray-600 tracking-wider text-left">Role</th>
            <th class="hidden md:table-cell px-6 py-4 text-sm font-semibold text-gray-600 tracking-wider text-left">Age</th>
            <th class="hidden md:table-cell px-6 py-4 text-sm font-semibold text-gray-600 tracking-wider text-left">Credit Score</th>
            <th class="px-6 py-4 text-sm font-semibold text-gray-600 tracking-wider text-left">Total Balance</th>
            <th class="px-6 py-4 text-sm font-semibold text-gray-600 tracking-wider text-left">Actions</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          @for(user of usersData; track user.id){
            <tr class="hover:bg-gray-50 transition-colors duration-200">
              <!-- User Info -->
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex items-center">
                  <div class="h-10 w-10 flex-shrink-0">
                    <div class="h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center">
                      <span class="text-indigo-600 font-semibold">
                        {{user.firstName.charAt(0)}}{{user.lastName.charAt(0)}}
                      </span>
                    </div>
                  </div>
                  <div class="ml-4">
                    <div class="text-sm font-medium text-gray-900">
                      {{user.firstName}} {{user.lastName}}
                    </div>
                    <div class="text-sm text-gray-500">{{user.email}}</div>
                  </div>
                </div>
              </td>

              <!-- Role -->
              <td class="px-6 py-4 whitespace-nowrap">
                <span class="px-2.5 py-1 text-xs font-medium rounded-full"
                      [class]="user.role === 'ADMIN' ? 'bg-purple-100 text-purple-700' : 'bg-blue-100 text-blue-700'">
                  {{user.role}}
                </span>
              </td>

              <!-- Age -->
              <td class="hidden md:table-cell px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                {{user.age || 'N/A'}}
              </td>

              <!-- Credit Score -->
              <td class="hidden md:table-cell px-6 py-4 whitespace-nowrap">
                <div class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium"
                     [class]="user.creditScore > 700 ? 'bg-green-50 text-green-700' : 'bg-yellow-50 text-yellow-700'">
                  {{user.creditScore}}
                </div>
              </td>

              <!-- Total Balance -->
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700">
                  {{user.totalSolde !== null ? (user.totalSolde | number:'1.2-2') + ' MAD' : 'N/A'}}
                </div>
              </td>

              <!-- Actions -->
              <td class="px-6 py-4 whitespace-nowrap">
                <div class="flex space-x-2">
                  <button data-tip="update user"
                          class="tooltip inline-flex items-center p-2 text-sm font-medium text-green-600 bg-green-50 rounded-lg hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200">
                    <app-edit-icon [size]="4"></app-edit-icon>
                  </button>
                  <!-- (click)="deleteUser(user.id)" -->
                  <button
                          data-tip="delete user"
                          class="tooltip inline-flex items-center p-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200">
                    <app-delete-icon [size]="4"></app-delete-icon>
                  </button>
                </div>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
}
